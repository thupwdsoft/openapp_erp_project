<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <!-- RFI -->
  <record id="view_openapp_rfi_list" model="ir.ui.view">
    <field name="name">openapp.rfi.list</field>
    <field name="model">openapp.rfi</field>
    <field name="arch" type="xml">
      <list string="Yêu cầu thông tin (RFI)" default_order="date desc">
        <field name="name"/>
        <field name="project_id"/>
        <field name="date"/>
        <field name="requested_by"/>
        <field name="state" widget="badge"/>
      </list>
    </field>
  </record>

  <record id="view_openapp_rfi_form" model="ir.ui.view">
    <field name="name">openapp.rfi.form</field>
    <field name="model">openapp.rfi</field>
    <field name="arch" type="xml">
      <form string="Yêu cầu thông tin (RFI)">
        <header>
          <button name="action_submit"  type="object" string="Gửi duyệt" class="btn-primary" invisible="state != 'draft'"/>
          <button name="action_approve" type="object" string="Phê duyệt" invisible="state != 'submitted'"/>
          <button name="action_close"   type="object" string="Đóng"       invisible="state != 'approved'"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,submitted,approved,closed"/>
        </header>

        <sheet>
          <group>
            <field name="name" readonly="1"/>
            <field name="project_id"/>
            <field name="date"/>
            <field name="requested_by"/>
            <field name="description"/>
          </group>
          <group>
            <field name="answer"/>
            <field name="attachment_ids" widget="many2many_binary"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- NCR -->
  <record id="view_openapp_ncr_list" model="ir.ui.view">
    <field name="name">openapp.ncr.list</field>
    <field name="model">openapp.ncr</field>
    <field name="arch" type="xml">
      <list string="Biên bản không phù hợp (NCR)" default_order="date desc">
        <field name="name"/>
        <field name="project_id"/>
        <field name="date"/>
        <field name="reported_by"/>
        <field name="state" widget="badge"/>
      </list>
    </field>
  </record>

  <record id="view_openapp_ncr_form" model="ir.ui.view">
    <field name="name">openapp.ncr.form</field>
    <field name="model">openapp.ncr</field>
    <field name="arch" type="xml">
      <form string="Biên bản không phù hợp (NCR)">
        <header>
          <button name="action_submit"  type="object" string="Gửi duyệt" class="btn-primary" invisible="state != 'draft'"/>
          <button name="action_approve" type="object" string="Phê duyệt" invisible="state != 'submitted'"/>
          <button name="action_close"   type="object" string="Đóng"       invisible="state != 'approved'"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,submitted,approved,closed"/>
        </header>

        <sheet>
          <group>
            <field name="name" readonly="1"/>
            <field name="project_id"/>
            <field name="date"/>
            <field name="reported_by"/>
            <field name="description"/>
          </group>
          <group>
            <field name="corrective_action"/>
            <field name="attachment_ids" widget="many2many_binary"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- ITP -->
  <record id="view_openapp_itp_list" model="ir.ui.view">
    <field name="name">openapp.itp.list</field>
    <field name="model">openapp.itp</field>
    <field name="arch" type="xml">
      <list string="Kế hoạch kiểm tra &amp; thử nghiệm (ITP)" default_order="date desc">
        <field name="name"/>
        <field name="project_id"/>
        <field name="date"/>
        <field name="state" widget="badge"/>
      </list>
    </field>
  </record>

  <record id="view_openapp_itp_form" model="ir.ui.view">
    <field name="name">openapp.itp.form</field>
    <field name="model">openapp.itp</field>
    <field name="arch" type="xml">
      <form string="Kế hoạch kiểm tra &amp; thử nghiệm (ITP)">
        <header>
          <button name="action_submit"  type="object" string="Gửi duyệt" class="btn-primary" invisible="state != 'draft'"/>
          <button name="action_approve" type="object" string="Phê duyệt" invisible="state != 'submitted'"/>
          <button name="action_close"   type="object" string="Đóng"       invisible="state != 'approved'"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,submitted,approved,closed"/>
        </header>

        <sheet>
          <group>
            <field name="name" readonly="1"/>
            <field name="project_id"/>
            <field name="date"/>
            <field name="description"/>
          </group>
          <group>
            <field name="attachment_ids" widget="many2many_binary"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Actions -->
  <record id="action_openapp_rfi" model="ir.actions.act_window">
    <field name="name">Yêu cầu thông tin (RFI)</field>
    <field name="res_model">openapp.rfi</field>
    <field name="view_mode">list,form</field>
  </record>

  <record id="action_openapp_ncr" model="ir.actions.act_window">
    <field name="name">Biên bản không phù hợp (NCR)</field>
    <field name="res_model">openapp.ncr</field>
    <field name="view_mode">list,form</field>
  </record>

  <record id="action_openapp_itp" model="ir.actions.act_window">
    <field name="name">Kế hoạch kiểm tra &amp; thử nghiệm (ITP)</field>
    <field name="res_model">openapp.itp</field>
    <field name="view_mode">list,form</field>
  </record>

</odoo>
